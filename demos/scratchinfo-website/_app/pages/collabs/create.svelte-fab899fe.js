import{S as V,i as W,s as X,v as U,w as L,x as R,p as w,n as I,A as q,j as N,k as H,l as P,f as b,o as J,d as u,u as x,m as M,_ as Y,e as y,t as S,c as k,a as v,g,b as E,G as h,I as ee,R as Z,H as z,Z as te,U as se}from"../../chunks/vendor-df32a748.js";import{S as le}from"../../chunks/Success-6c1c74aa.js";import{F as oe}from"../../chunks/Failure-11946e36.js";function K(f){let t,s;return t=new oe({props:{description:`An error has occurred. This studio might exist already, or you need to sign in again. You also
need to manage the studio.`}}),{c(){U(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,i){R(t,e,i),s=!0},i(e){s||(w(t.$$.fragment,e),s=!0)},o(e){I(t.$$.fragment,e),s=!1},d(e){q(t,e)}}}function Q(f){let t,s;return t=new le({props:{description:`Now go to <a href=/collabs/${f[0]}>your new studio page!`}}),{c(){U(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,i){R(t,e,i),s=!0},p(e,i){const o={};i&1&&(o.description=`Now go to <a href=/collabs/${e[0]}>your new studio page!`),t.$set(o)},i(e){s||(w(t.$$.fragment,e),s=!0)},o(e){I(t.$$.fragment,e),s=!1},d(e){q(t,e)}}}function re(f){let t,s,e,i,o;return{c(){t=y("p"),s=S("Please "),e=y("a"),i=S("sign in"),o=S(" to create a collab."),this.h()},l(r){t=k(r,"P",{});var c=v(t);s=g(c,"Please "),e=k(c,"A",{href:!0});var p=v(e);i=g(p,"sign in"),p.forEach(u),o=g(c," to create a collab."),c.forEach(u),this.h()},h(){E(e,"href","/login")},m(r,c){b(r,t,c),h(t,s),h(t,e),h(e,i),h(t,o)},p:ee,d(r){r&&u(t)}}}function ae(f){let t,s,e,i,o,r,c,p,m,l,n,C,T,$,d,F,j,B;return{c(){t=y("p"),s=y("b"),e=S("Please follow the "),i=y("a"),o=S("Scratch Community Guidelines"),r=S(" when using Scratchinfo."),c=N(),p=y("label"),m=S("Studio ID:"),l=N(),n=y("input"),C=N(),T=y("br"),$=N(),d=y("button"),F=S("Create collab"),this.h()},l(a){t=k(a,"P",{});var _=v(t);s=k(_,"B",{});var A=v(s);e=g(A,"Please follow the "),i=k(A,"A",{href:!0});var D=v(i);o=g(D,"Scratch Community Guidelines"),D.forEach(u),r=g(A," when using Scratchinfo."),A.forEach(u),_.forEach(u),c=P(a),p=k(a,"LABEL",{for:!0});var G=v(p);m=g(G,"Studio ID:"),G.forEach(u),l=P(a),n=k(a,"INPUT",{type:!0,class:!0}),C=P(a),T=k(a,"BR",{}),$=P(a),d=k(a,"BUTTON",{type:!0,class:!0});var O=v(d);F=g(O,"Create collab"),O.forEach(u),this.h()},h(){E(i,"href","https://scratch.mit.edu/community_guidelines"),E(p,"for","studio_id"),E(n,"type","number"),E(n,"class","form-control text-black rounded-sm p-0.5"),E(d,"type","button"),E(d,"class","btn-primary")},m(a,_){b(a,t,_),h(t,s),h(s,e),h(s,i),h(i,o),h(s,r),b(a,c,_),b(a,p,_),h(p,m),b(a,l,_),b(a,n,_),Z(n,f[0]),b(a,C,_),b(a,T,_),b(a,$,_),b(a,d,_),h(d,F),j||(B=[z(n,"input",f[5]),z(d,"click",function(){te(f[4])&&f[4].apply(this,arguments)})],j=!0)},p(a,_){f=a,_&1&&Y(n.value)!==f[0]&&Z(n,f[0])},d(a){a&&u(t),a&&u(c),a&&u(p),a&&u(l),a&&u(n),a&&u(C),a&&u(T),a&&u($),a&&u(d),j=!1,se(B)}}}function ie(f){let t,s,e,i,o=f[2]&&K(),r=f[3]&&Q(f);function c(l,n){return l[1]?ae:re}let p=c(f),m=p(f);return{c(){o&&o.c(),t=N(),r&&r.c(),s=N(),m.c(),e=H()},l(l){o&&o.l(l),t=P(l),r&&r.l(l),s=P(l),m.l(l),e=H()},m(l,n){o&&o.m(l,n),b(l,t,n),r&&r.m(l,n),b(l,s,n),m.m(l,n),b(l,e,n),i=!0},p(l,[n]){l[2]?o?n&4&&w(o,1):(o=K(),o.c(),w(o,1),o.m(t.parentNode,t)):o&&(M(),I(o,1,1,()=>{o=null}),J()),l[3]?r?(r.p(l,n),n&8&&w(r,1)):(r=Q(l),r.c(),w(r,1),r.m(s.parentNode,s)):r&&(M(),I(r,1,1,()=>{r=null}),J()),p===(p=c(l))&&m?m.p(l,n):(m.d(1),m=p(l),m&&(m.c(),m.m(e.parentNode,e)))},i(l){i||(w(o),w(r),i=!0)},o(l){I(o),I(r),i=!1},d(l){o&&o.d(l),l&&u(t),r&&r.d(l),l&&u(s),m.d(l),l&&u(e)}}}function ne(f,t,s){let e=0,i,o,r=!1,c=async()=>{};x(async()=>{s(1,i=!!window.localStorage.getItem("authToken")),s(4,c=async()=>{s(3,r=!1),s(2,o=!1),(await fetch("/collabs/api/create",{method:"POST",body:JSON.stringify({token:window.localStorage.getItem("authToken"),studio:e})})).ok?(s(3,r=!0),s(2,o=!1)):(s(3,r=!1),s(2,o=!0))})});function p(){e=Y(this.value),s(0,e)}return[e,i,o,r,c,p]}class pe extends V{constructor(t){super();W(this,t,ne,ie,X,{})}}export{pe as default};
