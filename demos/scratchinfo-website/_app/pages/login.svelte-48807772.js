import{S as ut,i as st,s as lt,e as l,t as v,j as p,c as r,a as m,g as y,d as e,l as _,b,f as u,G as o,R as tt,H as et,Z as rt,I as it,U as at,u as ot}from"../chunks/vendor-df32a748.js";import{e as nt}from"../chunks/bta-fa053264.js";function ft(f){let n,L,w,h,s,B,S,x,Y,$,d,F,k,A,N,I,P,M,R,E,O,T,j,q,a,C,G,H,c,Z,z,D;return{c(){n=l("h1"),L=v("Log in with ScratchLight Auth"),w=p(),h=l("p"),s=l("b"),B=v("Please follow the "),S=l("a"),x=v("Scratch Community Guidelines"),Y=v(" when using Scratchinfo."),$=p(),d=l("p"),F=v(`You need to have Scratcher status in order to use Scratchinfo features that require
  authentication.`),k=p(),A=l("hr"),N=p(),I=l("p"),P=l("b"),M=v("Note that you must have Scratcher status in order to use Scratchinfo."),R=p(),E=l("label"),O=v("Enter in your username here:"),T=p(),j=l("br"),q=p(),a=l("input"),C=p(),G=l("br"),H=p(),c=l("button"),Z=v("Log in with ScratchLight"),this.h()},l(t){n=r(t,"H1",{class:!0});var i=m(n);L=y(i,"Log in with ScratchLight Auth"),i.forEach(e),w=_(t),h=r(t,"P",{});var J=m(h);s=r(J,"B",{});var U=m(s);B=y(U,"Please follow the "),S=r(U,"A",{href:!0});var K=m(S);x=y(K,"Scratch Community Guidelines"),K.forEach(e),Y=y(U," when using Scratchinfo."),U.forEach(e),J.forEach(e),$=_(t),d=r(t,"P",{});var Q=m(d);F=y(Q,`You need to have Scratcher status in order to use Scratchinfo features that require
  authentication.`),Q.forEach(e),k=_(t),A=r(t,"HR",{}),N=_(t),I=r(t,"P",{});var V=m(I);P=r(V,"B",{});var W=m(P);M=y(W,"Note that you must have Scratcher status in order to use Scratchinfo."),W.forEach(e),V.forEach(e),R=_(t),E=r(t,"LABEL",{for:!0});var X=m(E);O=y(X,"Enter in your username here:"),X.forEach(e),T=_(t),j=r(t,"BR",{}),q=_(t),a=r(t,"INPUT",{id:!0,class:!0,name:!0,type:!0}),C=_(t),G=r(t,"BR",{}),H=_(t),c=r(t,"BUTTON",{type:!0,class:!0});var g=m(c);Z=y(g,"Log in with ScratchLight"),g.forEach(e),this.h()},h(){b(n,"class","text-3xl font-bold mb-2"),b(S,"href","https://scratch.mit.edu/community_guidelines"),b(E,"for","usernameInput"),b(a,"id","usernameInput"),b(a,"class","text-gray-900 rounded p-1 w-48"),b(a,"name","usernameInput"),b(a,"type","text"),b(c,"type","button"),b(c,"class","btn-primary")},m(t,i){u(t,n,i),o(n,L),u(t,w,i),u(t,h,i),o(h,s),o(s,B),o(s,S),o(S,x),o(s,Y),u(t,$,i),u(t,d,i),o(d,F),u(t,k,i),u(t,A,i),u(t,N,i),u(t,I,i),o(I,P),o(P,M),u(t,R,i),u(t,E,i),o(E,O),u(t,T,i),u(t,j,i),u(t,q,i),u(t,a,i),tt(a,f[1]),u(t,C,i),u(t,G,i),u(t,H,i),u(t,c,i),o(c,Z),z||(D=[et(a,"input",f[2]),et(c,"click",function(){rt(f[0]())&&f[0]().apply(this,arguments)})],z=!0)},p(t,[i]){f=t,i&2&&a.value!==f[1]&&tt(a,f[1])},i:it,o:it,d(t){t&&e(n),t&&e(w),t&&e(h),t&&e($),t&&e(d),t&&e(k),t&&e(A),t&&e(N),t&&e(I),t&&e(R),t&&e(E),t&&e(T),t&&e(j),t&&e(q),t&&e(a),t&&e(C),t&&e(G),t&&e(H),t&&e(c),z=!1,at(D)}}}function ht(f,n,L){let w=function(){},h=!1,s="";ot(()=>{h=!!window.localStorage.getItem("authToken"),h&&(window.location.href="/"),L(0,w=function(){if(s.length<3||s.length>20)return;console.log("Sending user to ScratchLight for authentication...");const S=nt(`${window.location.host}/you/supa/scratchlight/verify`);window.location.href=`/scratchlight/authpage?redirect=${S}&username=${s}`})});function B(){s=this.value,L(1,s)}return[w,s,B]}class mt extends ut{constructor(n){super();st(this,n,ht,ft,lt,{})}}export{mt as default};
