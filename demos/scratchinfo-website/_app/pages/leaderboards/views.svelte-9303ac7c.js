import{S as A,i as C,s as G,e as w,t as m,c as y,a as V,g as v,d as c,b as g,f as k,G as u,j as I,k as L,l as D,I as O,u as H,h as S,V as z}from"../../chunks/vendor-df32a748.js";function T(o,e,l){const s=o.slice();return s[3]=e[l],s[5]=l,s}function W(o){let e,l;return{c(){e=w("div"),l=m("Oh no! We can't get this leaderboard. Try again later."),this.h()},l(s){e=y(s,"DIV",{class:!0,role:!0});var a=V(e);l=v(a,"Oh no! We can't get this leaderboard. Try again later."),a.forEach(c),this.h()},h(){g(e,"class","alert alert-danger"),g(e,"role","alert")},m(s,a){k(s,e,a),u(e,l)},d(s){s&&c(e)}}}function B(o){let e;return{c(){e=m("Loading...")},l(l){e=v(l,"Loading...")},m(l,s){k(l,e,s)},p:O,d(l){l&&c(e)}}}function F(o){let e,l=o[0],s=[];for(let a=0;a<l.length;a+=1)s[a]=x(T(o,l,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=L()},l(a){for(let i=0;i<s.length;i+=1)s[i].l(a);e=L()},m(a,i){for(let t=0;t<s.length;t+=1)s[t].m(a,i);k(a,e,i)},p(a,i){if(i&1){l=a[0];let t;for(t=0;t<l.length;t+=1){const h=T(a,l,t);s[t]?s[t].p(h,i):(s[t]=x(h),s[t].c(),s[t].m(e.parentNode,e))}for(;t<s.length;t+=1)s[t].d(1);s.length=l.length}},d(a){z(s,a),a&&c(e)}}}function x(o){let e,l,s,a=o[5]+1+"",i,t,h=o[3].username+"",_,f,r,n=o[3].statistics.views+"",E,M,N,j;return{c(){e=w("a"),l=w("div"),s=m("#"),i=m(a),t=m(": "),_=m(h),f=I(),r=w("div"),E=m(n),M=m(" views received"),N=I(),this.h()},l(d){e=y(d,"A",{href:!0,class:!0});var p=V(e);l=y(p,"DIV",{class:!0});var b=V(l);s=v(b,"#"),i=v(b,a),t=v(b,": "),_=v(b,h),f=D(b),r=y(b,"DIV",{class:!0});var q=V(r);E=v(q,n),M=v(q," views received"),q.forEach(c),N=D(b),b.forEach(c),p.forEach(c),this.h()},h(){g(r,"class","float-right inline"),g(l,"class","bg-gray-400 min-h-[20px] mb-2 p-2 w-full rounded text-gray-900"),g(e,"href",j="/users/"+o[3].username),g(e,"class","svelte-qsj75p")},m(d,p){k(d,e,p),u(e,l),u(l,s),u(l,i),u(l,t),u(l,_),u(l,f),u(l,r),u(r,E),u(r,M),u(l,N)},p(d,p){p&1&&h!==(h=d[3].username+"")&&S(_,h),p&1&&n!==(n=d[3].statistics.views+"")&&S(E,n),p&1&&j!==(j="/users/"+d[3].username)&&g(e,"href",j)},d(d){d&&c(e)}}}function J(o){let e,l,s,a,i,t=o[1]==!0&&W();function h(r,n){return r[2]==!1?F:B}let _=h(o),f=_(o);return{c(){e=w("h1"),l=m("Most Viewed Leaderboard"),s=I(),t&&t.c(),a=I(),f.c(),i=L(),this.h()},l(r){e=y(r,"H1",{class:!0});var n=V(e);l=v(n,"Most Viewed Leaderboard"),n.forEach(c),s=D(r),t&&t.l(r),a=D(r),f.l(r),i=L(),this.h()},h(){g(e,"class","text-3xl font-bold mb-2")},m(r,n){k(r,e,n),u(e,l),k(r,s,n),t&&t.m(r,n),k(r,a,n),f.m(r,n),k(r,i,n)},p(r,[n]){r[1]==!0?t||(t=W(),t.c(),t.m(a.parentNode,a)):t&&(t.d(1),t=null),_===(_=h(r))&&f?f.p(r,n):(f.d(1),f=_(r),f&&(f.c(),f.m(i.parentNode,i)))},i:O,o:O,d(r){r&&c(e),r&&c(s),t&&t.d(r),r&&c(a),f.d(r),r&&c(i)}}}function K(o,e,l){let s=[{username:"griffpatch"}],a=!1,i=!0;return H(()=>{fetch("/leaderboards/api/views").then(t=>{if(!t.ok)l(1,a=!0);else return t.json()}).then(t=>{l(0,s=t),l(2,i=!1)})}),[s,a,i]}class Q extends A{constructor(e){super();C(this,e,K,J,G,{})}}export{Q as default};
